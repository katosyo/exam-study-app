# Core Rules

## 前提

- ユーザーはプログラミングができるが、**時短のためにAIに実装を依頼**している
- アルゴリズム・ライブラリ調査はAIのほうが速い
- **現在のコンテキスト理解は苦手**なので、不明瞭な点は必ず確認する

---

## セッション運用ルール

- 1セッションで扱うタスクは最小限にする
- タスクが大きい場合は **設計フェーズと実装フェーズを分ける**
- 2回以上連続でテスト・ビルド・lintに失敗したら：
  - 現状を整理
  - 原因候補を列挙
  - ユーザーと方針を相談する

---

## 作業開始時の必須行動

1. `git status` で現在の状態を確認する
2. 無関係な変更が多い場合：
   - 別タスクとして切り出すことを提案する
   - 無視してよいと言われた場合のみ続行する

---

## 実装方針（共通）

- **型を先に考える**
- 可能な限り：
  - 純粋関数
  - 副作用の分離
  - 明示的なエラー表現（Result型など）
- クラスは「状態が必要な場合のみ」

---

## ドキュメントと記録

- 設計・判断理由はコード or docs に残す
- セッションが長くなりそうな場合：
  - 一度ドキュメント化して区切ることを提案する
