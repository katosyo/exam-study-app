# Problem Design Rules（問題作成ルール）

## 基本方針

- 問題は「学習効果」と「分析可能性」を最優先に設計する
- 問題は人間が作成・レビューしたもののみを使用する
- AIは問題生成を行わず、補助的な整理・説明のみに関与する

---

## 問題の責務

- 問題は **1つの知識・スキルのみ** を測定する
- 複数概念をまたぐ問題は作成しない
- 問題の目的が説明できないものは存在してはならない

---

## 問題構造のルール

すべての問題は以下の情報を必須とする。

- problemId（不変・一意）
- category（大分類）
- subCategory（小分類）
- difficulty（相対難易度）
- question（問題文）
- choices（選択肢 or 入力条件）
- correctAnswer（正解）
- explanation（人間向け解説）

---

## カテゴリ設計ルール

- category / subCategory は **事前に定義された一覧からのみ選択可能**
- 問題作成時に新しい category / subCategory を勝手に追加してはならない
- subCategory は「再学習単位」として機能する粒度にする

例：
- category: Grammar  
- subCategory: Present Perfect

---

## 難易度（difficulty）のルール

- difficulty は相対指標として扱う
- 数値 or 段階（例: easy / normal / hard）は固定定義とする
- 正誤率から difficulty を自動変更してはならない

---

## 正誤判定ルール

- 正解は **常に一意** であること
- 解釈が分かれる問題は禁止
- 曖昧さがある場合は問題文を修正する

---

## 解説（explanation）のルール

- 解説は必須
- なぜそれが正解なのかを言語化する
- 他の選択肢がなぜ誤りなのかも説明する
- AI生成の解説をそのまま使用してはならない

---

## 分析・ログ利用を前提とした設計

- 問題文の文言変更は慎重に行う
- category / subCategory の変更は履歴分析を壊すため原則禁止
- 問題IDは永続的に不変とする

---

## AI利用に関する制約

### 許可される用途

- 問題文・解説の言い換え案の提案
- 誤解を招く表現の指摘
- 初学者向け説明の補助案作成

### 禁止事項

- AIによる問題の自動生成
- AIによる正誤判定
- AIによる難易度・カテゴリの決定

---

## 禁止される問題パターン

- ひっかけ問題
- 文脈依存が強すぎる問題
- 試験本番では出ない形式の問題
- 1問で複数スキルを要求する問題
